<html>
	<head>
		<meta http-equiv="Content-type" content="text/html; charset=utf-8">
		<title>mod tests</title>
		<!-- Just load mod -->
		<script src="assert.js" type="text/javascript" charset="utf-8"></script>
		<script src="../mod.js" type="text/javascript" charset="utf-8"></script>
	</head>
	<body id="index" onload="onload">
		<script type="text/javascript" charset="utf-8">
			var initMod = function () {
				if (mod.reset) {
					mod.reset();
				}
				mod.modules = {
					testSeq : ''
				};
				mod.nocache = true;
				mod.useTagInjection = true;
			};	
			var onload = function () {
				initMod();
				// create the main module
				mod({
					name : 'main',
					dependencies : [
						'parallel.js',
						't1.js'
					],
					init : function initMain(modules) {
						return {};
					},
					callback : function cbMain(modules) {
						assert.stat();
						
						if (mod.scripts) {
							var compiled = mod.compile();
							initMod();
							assert.suite = "Compile tests";
							eval(compiled);	
							document.write('<pre>'+compiled+'</pre>');
						}
						
					}
				});
			}
		</script>
	</body>
</html>